{% extends 'base.html' %}
{% load humanize %}
{% load static %}

{% block content %}

<style>
    /* Estilos más específicos con !important para forzar la aplicación */
    .content {
        display: flex;
        justify-content: normal;
        align-items: flex-start;
        width: 100%;
        padding: 20px;
    }

    .confirmar-egreso-container {
        max-width: 900px;
        margin: 0 auto !important;
        padding: 20px;
    }
</style>

<div class="card-body text-center confirmar-egreso-container">
    <div style="background-color: #C7C7C7; padding: 1rem; border-radius: 25px; display: block; width: 100%;">
        <div class="text-center fw-bold mb-4">
            <h3 class="fw-bold">¿ESTA SEGURO QUE DESEAS AGREGAR EL <br> SIGUIENTE EGRESO?</h3>
        </div>

        <div class="d-flex justify-content-center text-center fw-bold mb-4">
            <div class="mx-4">
                <div>VALOR</div>
                <div class="text-dark mt-2">${{ egreso.valor|floatformat:0|intcomma }}</div>
            </div>
            <div class="mx-4">
                <div>FECHA</div>
                <div class="text-dark mt-2">{{ egreso.fecha }}</div>
            </div>
            <div class="mx-4">
                <div>DESCRIPCIÓN</div>
                <div class="text-dark mt-2">{{ egreso.descripcion }}</div>
            </div>
        </div>

        <form method="post" id="egresoForm" class="confirmar-egreso-container">
            {% csrf_token %}
            <div class="d-flex justify-content-center gap-3 100%">
                <button type="button" id="btnConfirmar" class="btn save">
                    <i class="fas fa-check me-2"></i>Confirmar
                </button>
                <button type="submit" name="editar" class="btn cancel">
                    <i class="fas fa-edit me-2"></i>Editar
                </button>
            </div>
        </form>
    </div>


    <!-- Modal de confirmación simplificado -->
    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-center" style="background-color: #f1f1f1;">
                <div class="modal-body d-flex justify-content-center align-items-center" style="height: 200px;">
                    <h4 class="titulo m-0">EGRESO AGREGADO CORRECTAMENTE</h4>
                </div>
            </div>
        </div>
    </div>

    {% endblock %}

    {% block javascript %}
    <script src="{% static 'js/egreso_modal.js' %}">
    </script>
    {% endblock %}