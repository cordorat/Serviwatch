{% extends 'base.html' %}
{% load humanize %}
{% load static %} 
{% block content %}
<style>
    /* Estilos más específicos con !important para forzar la aplicación */
    .content {
        display: flex;
        justify-content: normal;
        align-items: flex-start;
        width: 100%;
        padding: 20px;
    }

    .egreso-container {
        max-width: 900px;
        margin: 0 auto !important;
        padding: 20px;
    }

    .form-egreso {
        max-width: 900px; 
    }

    @media (max-width: 768px) {
        .content {
            padding-left: 0 !important;
        }
    }


</style>

<div class="egreso-container bg-white p-4">
    <div class="text-center mb-4">
        <div style="background-color: #C8DA53; padding: 1rem; border-radius: 25px; display: inline-block;">
            <h2 class="titulo" style="margin: 0; font-family: Montserrat, sans-serif;">EGRESOS DEL DÍA</h2>
            <div
                style="background-color: #e2eec1; padding: 0.5rem 2rem; border-radius: 10px; border: 2px solid #a0b34c; display: inline-block; margin-top: 0.5rem;">
                <h3 style="margin: 0; font-family: Montserrat, sans-serif;">${{ total_egresos|floatformat:0|intcomma }} COP</h3>
            </div>
        </div>
    </div>

    <h4 class="text-center fw-bold mb-3">AGREGAR EGRESO</h4>

    <form method="post" novalidate id="egresoForm" class="form-egreso">
        {% csrf_token %}

        <div class="mb-3">
            <div class="input-group egreso-form custom-form">
                <span class="input-group-text form-span" id="basic-addon1">
                    <i class="bi bi-currency-dollar fs-4 text-secondary"></i>
                </span>
                {{ form.valor }}
            </div>
            <div class="error-container mt-1">
                {% if form.valor.errors %}
                    {% for error in form.valor.errors %}
                        <div class="text-danger small">{{ error }}</div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>

        <div class="mb-3">
            <div class="input-group egreso-form custom-form">
                <span class="input-group-text form-span" id="basic-addon1">
                    <i class="bi bi-calendar-date fs-4 text-secondary"></i>
                </span>
                {{ form.fecha }}
            </div>
            <div class="error-container mt-1">
                {% if form.fecha.errors %}
                    {% for error in form.fecha.errors %}
                        <div class="text-danger small">{{ error }}</div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>

        <div class="mb-3">
            <div class="input-group egreso-form custom-form">
                <span class="input-group-text form-span" id="basic-addon1">
                    <i class="bi bi-pencil-square fs-4 text-secondary"></i>     
                </span>
                {{ form.descripcion }}
            </div>
            <div class="error-container mt-1">
                {% if form.descripcion.errors %}
                    {% for error in form.descripcion.errors %}
                        <div class="text-danger small">{{ error }}</div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>

        <div class="d-flex justify-content-between">
            <button type="submit" class="btn save">
                GUARDAR
            </button>
            <a href="{% url 'egreso' %}" class="btn cancel">CANCELAR</a>
        </div>
    </form>
</div>

  
{% endblock %}

{% block javascript %}
<script src="{% static 'js/egreso_validaciones.js' %}">
</script>
{% endblock %}